<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Player</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">

        <div class="music-player">

            <!-- Navigation Buttons -->
            <nav>
                <div class="circle">
                    <button>
                        <img src="images/left.png" alt="Back">
                    </button>
                </div>

                <div class="circle">
                    <button>
                        <img src="images/menu.png" alt="Menu">
                    </button>
                </div>
            </nav>

            <!-- Circular Song Image -->
            <img src="images/rrr.png" class="song-img" alt="Song Image">
            <h1>Despacito</h1>
            <p>Luis Fonsi Ft. Puerto Rican</p>

            <!-- Audio Player -->
            <audio id="song">
                <source src="images/song.mp3" type="audio/mp3">
                Your browser does not support the audio element.
            </audio>

            <!-- Progress Bar -->
            <input type="range" value="0" id="progress">

            <!-- Music Controls -->
            <div class="controls">
                <div><img src="images/backward.png" alt="Previous"></div>

                <div onclick="playPause()" id="ctrlIcon">
                    <img id="playPauseIcon" src="images/play-button-arrowhead.png" alt="Play">
                </div>

                <div><img src="images/fast-forward.png" alt="Next"></div>
            </div>

        </div>

    </div>

    <script>
        let progress = document.getElementById("progress");
        let song = document.getElementById("song");
        let ctrlIcon = document.getElementById("ctrlIcon");
        let playPauseIcon = document.getElementById("playPauseIcon");

        // Set default volume
        song.volume = 0.7; 

        // Update progress bar when song loads
        song.onloadedmetadata = function(){
            progress.max = song.duration;
            progress.value = song.currentTime;
        }

        // Function to Play/Pause Music
        function playPause(){
            if (song.paused) {
                song.play();
                playPauseIcon.src = "images/pause.png"; // Change to Pause Icon
            } else {
                song.pause();
                playPauseIcon.src = "images/play-button-arrowhead.png"; // Change to Play Icon
            }
        }

        // Update progress bar as song plays
        song.ontimeupdate = function(){
            progress.value = song.currentTime;
        }

        // Seek song when user changes progress bar
        progress.onchange = function(){
            song.currentTime = progress.value;
        }
    </script>
    
</body>
</html>
